<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ูุธุงู ุงูุตูุงูุฉ - ูุฎุชุจุฑุงุช ุงูููุฒูุงุก</title>
    <link rel="stylesheet" href="../css/maintenance.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet"/>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- ุฅุถุงูุฉ Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../js/maintenance.js" defer ></script>
  </head>
<body onload="showSection('maintenanceSection')">

  <!-- ุงูุดุฑูุท ุงูุฌุงูุจู -->
 <div class="sidebar" style="width: 250px;">
            <div class="d-flex justify-content-center align-items-center py-4">
                <i class="fas fa-atom fa-2x me-2"></i>
                <h4 class="mb-0">ูุฎุชุจุฑุงุช ุงูููุฒูุงุก</h4>
            </div>
            <hr class="bg-light">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="dashboard.html" data-page="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>ููุญุฉ ุงูุชุญูู</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="devices.html" data-page="devices">
                        <i class="fas fa-microscope"></i>
                        <span>ุงูุฃุฌูุฒุฉ ูุงููุนุฏุงุช</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="reservations.html" data-page="reservations">
                        <i class="fas fa-calendar-alt"></i>
                        <span>ุงูุญุฌูุฒุงุช</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="maintenance.html" data-page="maintenance">
                        <i class="fas fa-tools"></i>
                        <span>ุงูุตูุงูุฉ</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="reports.html" data-page="reports">
                        <i class="fas fa-chart-bar"></i>
                        <span>ุงูุชูุงุฑูุฑ</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="users.html" data-page="users">
                        <i class="fas fa-users"></i>
                        <span>ุงููุณุชุฎุฏููู</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="settings.html" data-page="settings">
                        <i class="fas fa-cog"></i>
                        <span>ุงูุฅุนุฏุงุฏุงุช</span>
                    </a>
                </li>
            </ul>
            <div class="mt-auto p-3">
                <button id="logout-btn" class="btn btn-outline-light w-100">
                    <i class="fas fa-sign-out-alt me-2"></i>ุชุณุฌูู ุงูุฎุฑูุฌ
                </button>
            </div>
        </div>

    <!-- ูุญุชูู ุงูุตูุญุฉ -->
    <div class="flex-grow-1 p-4 bg-light">
    <!-- ====== Top Header ====== -->
<div class="container-fluid bg-white px-4 py-2 shadow-sm d-flex justify-content-between align-items-center" style="position: sticky; top: 0; z-index: 1000;">
    <!-- ุงูุจุญุซ -->
    <div class="d-flex align-items-center">
      <input type="text" id="searchInput" class="form-control" placeholder="...ุจุญุซ ุนู ุฌูุงุฒ - ุญุฌุฒ"
        style="min-width: 250px; height: 35px; border-radius: 18px; font-size: 14px;" />
    </div>
  
    <!-- ุฅุดุนุงุฑุงุช ูุตูุฑุฉ ุงููุณุชุฎุฏู -->
    <div class="d-flex align-items-center gap-3">
      <!-- ุฅุดุนุงุฑุงุช -->
      <div class="position-relative">
        <i class="fas fa-bell fa-lg text-secondary"></i>
        <span id="notificationCount" class="position-absolute top-0 start-0 translate-middle badge rounded-pill bg-danger" style="font-size: 10px;">
          3
        </span>
      </div>
  
      <!-- ุตูุฑุฉ ุงููุณุชุฎุฏู -->
      <div class="d-flex align-items-center">  
        <span class="me-2" style="font-size: 14px;">ุตูุฑุฉ ุงููุณุชุฎุฏู</span> <i class="fa fa-user-circle fs-4 me-2"></i>
      </div>
    </div>
  </div>
  
  

      <!-- ุงูุนููุงู + ุฃุฒุฑุงุฑ -->
      <div class="d-flex justify-content-between align-items-center mb-3" style="margin-top: 30px;">
        <h4>ุงูุตูุงูุฉ</h4>
        <button  class="btn btn-primary" onclick="showScheduleForm()">+ ุฌุฏูู ุตูุงูุฉ</button>

      </div>


<!-- ูููุฐุฌ ุฌุฏููุฉ ุงูุตูุงูุฉ (ูุงุฑุช) -->
<div id="scheduleForm" style="display: none;">
  <div class="card p-4 shadow-sm" style="max-width: 800px; margin: auto;">
    <h5 class="mb-4 text-center">๐ ุฌุฏููุฉ ุตูุงูุฉ ุฌุฏูุฏุฉ</h5>
    <div class="row g-3">
      <div class="col-md-4">
        <input type="text" id="deviceNameInput" class="form-control" placeholder="ุงุณู ุงูุฌูุงุฒ" required>
      </div>
      <div class="col-md-4">
        <input type="text" id="maintenanceTypeInput" class="form-control" placeholder="ููุน ุงูุตูุงูุฉ" required>
      </div>
      <div class="col-md-4">
        <input type="text" id="responsibleInput" class="form-control" placeholder="ุงุณู ุงููุณุคูู" required>
      </div>
      <div class="col-md-4">
        <input type="text" id="reasonInput" class="form-control" placeholder="ุงูุณุจุจ" required>
      </div>
    </div>
    <div class="mt-4 d-flex justify-content-end gap-2">
      <button class="btn btn-primary" onclick="scheduleMaintenance()">ุฌุฏููุฉ</button>
      <button class="btn btn-secondary" onclick="hideScheduleForm()">ุฅูุบุงุก</button>
    </div>
  </div>
</div>
    

      <!-- ุฑูุงุจุท ุงูุชููู -->
      <div class="mb-4">
        <a href="#" class="me-3 text-primary" onclick="showSection('maintenanceSection')">ุงูุตูุงูุฉ ุงููุญุฏุฏุฉ</a>
        <a href="#" class="me-3 text-primary" onclick="showSection('logSection')">ุณุฌู ุงูุตูุงูุฉ</a>
        <a href="#" class="me-3 text-primary" onclick="showSection('analysisSection')">ุชุญููู ุงูุตูุงูุฉ</a>
      </div>

      <!-- ุฌุฏูู ุงูุตูุงูุฉ -->
      <div id="maintenanceSection" class="section" class="table-responsive">
        <table class="table table-bordered text-center bg-white" id="maintenance-table">
          <thead class="table-light">
            <tr>
              <th>ุงุณู ุงูุฌูุงุฒ</th>
              <th>ููุน ุงูุตูุงูุฉ</th>
              <th>ุชุงุฑูุฎ ุงูุฌุฏููุฉ</th>
              <th>ุงููุณุคูู</th>
              <th>ุงูุณุจุจ</th> <!-- ุงูุนููุฏ ุงูุฌุฏูุฏ -->
              <th>ุงูุฃููููุฉ</th>
              <th>ุงูุญุงูุฉ</th>
              <th>ุงูุฅุฌุฑุงุกุงุช</th>
            </tr>
          </thead> 
            <tbody id="maintenanceTableBody"></tbody>
        </table>
      </div>
        <!-- ุชุญููู ุงูุตูุงูุฉ -->
      <div id="analysisSection" class="section" style="display: none;">
        <h4>ุชุญููู ุงูุตูุงูุฉ</h4>
        <div class="row mb-4">
          <div class="col-md-6">
            <div class="card p-3">
              <h6>ุชูููุฉ ุงูุตูุงูุฉ ุงูุดูุฑูุฉ</h6>
              <canvas id="monthlyCostChart" class="img-fluid"></canvas>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card p-3">
              <h6>ุชูุฑุงุฑ ุงูุตูุงูุฉ ุญุณุจ ููุน ุงูุฌูุงุฒ</h6>
              <canvas id="maintenanceFrequencyChart" class="img-fluid"></canvas>
            </div>
          </div>
        </div>
        <div class="card p-3">
          <h6>ุชููุนุงุช ุงูุตูุงูุฉ ุงููุณุชูุจููุฉ</h6>
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>ุงุณู ุงูุฌูุงุฒ</th>
                <th>ููุน ุงูุตูุงูุฉ ุงููุชููุนุฉ</th>
                <th>ุงูุชุงุฑูุฎ ุงููุชููุน</th>
                <th>ุงูุชูููุฉ ุงููุชููุนุฉ</th>
                <th>ุณุงุนุงุช ุงูุชุดุบูู ุงูุญุงููุฉ</th>
                <th>ุงูุฃููููุฉ</th>
                <th>ุฅุฌุฑุงุกุงุช</th>
              </tr>
            </thead>
            <tbody id="futureMaintenanceTableBody">
              <!-- ุงูุจูุงูุงุช ููุง ูุชู ุชุญููููุง ุฏููุงูููููุง -->
            </tbody>
          </table>
        </div>
      </div>
        
          <!-- ุณุฌู ุงูุตูุงูุฉ -->
<div id="logSection" class="section">
  <h4>ุณุฌู ุงูุตูุงูุฉ</h4>
  <div class="card p-3">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>ุงุณู ุงูุฌูุงุฒ</th>
          <th>ููุน ุงูุตูุงูุฉ</th>
          <th>ุชุงุฑูุฎ ุงูุตูุงูุฉ</th>
          <th>ุงููุณุคูู</th>
          <th>ุงูุชูููุฉ</th>
          <th>ููุงุญุธุงุช</th>
          <th>ุฅุฌุฑุงุกุงุช</th>
        </tr>
      </thead>
      <tbody id="maintenanceHistoryTableBody">
        <!-- ุณูุชู ุชุนุจุฆุฉ ูุฐุง ุงููุณู ุฏููุงูููููุง -->
      </tbody>
    </table>
  </div>
</div>
</body>
</html>