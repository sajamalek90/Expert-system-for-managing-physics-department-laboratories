<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>لوحة التحكم - نظام المختبر</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="css/reports.css" />
</head>

<body>
    <div class="sidebar">
        <div class="d-flex justify-content-center align-items-center py-4">
            <i class="fas fa-atom fa-2x me-2"></i>
            <h4 class="mb-0">مختبرات الفيزياء</h4>
        </div>
        <hr class="bg-light">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link" href="dashboard.html" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>لوحة التحكم</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="devices.html" data-page="devices">
                    <i class="fas fa-microscope"></i>
                    <span>الأجهزة والمعدات</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="reservations.html" data-page="schedule">
                    <i class="fas fa-calendar-alt"></i>
                    <span>الحجوزات</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="maintenance.html" data-page="maintenance">
                    <i class="fas fa-tools"></i>
                    <span>الصيانة</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="reports.html" data-page="reports">
                    <i class="fas fa-file-alt"></i>
                    <span>التقارير</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="users.html" data-page="users">
                    <i class="fas fa-users"></i>
                    <span>المستخدمين</span>
                </a>
            </li>
        </ul>
        <div class="mt-auto p-3">
            <button id="logout-btn" class="btn btn-outline-light w-100">
                <i class="fas fa-sign-out-alt me-2"></i>تسجيل الخروج
            </button>
        </div>
    </div>
    <div class="content" style="margin-right: 250px;">
        <div class="content-section" id="reports">
            <div class="container">
                <header>
                    <h1>التقارير</h1>
                    <div class="export-buttons">
                        <button onclick="exportExcel()">تصدير Excel</button>
                        <button onclick="exportPDF()">تصدير PDF</button>
                    </div>
                </header>

                <nav>
                    <a href="#" data-report-type="usage">تقارير الاستخدام</a>
                    <a href="#" data-report-type="maintenance">تقارير الصيانة</a>
                    <a href="#" data-report-type="inventory">تقارير المخزون</a>
                </nav>

                <div class="charts">
                    <div class="chart-box">
                        <h5>توزيع الحجوزات حسب المختبر</h5>
                        <img src="https://via.placeholder.com/300" alt="رسم بياني للحجوزات حسب المختبر">
                    </div>
                    <div class="chart-box">
                        <h5>معدل استخدام الأجهزة</h5>
                        <img src="https://via.placeholder.com/300" alt="رسم بياني لمعدل استخدام الأجهزة">
                    </div>
                </div>

                <div id="usage-report" class="device-log report" style="display:block;">
                    <h3>سجل استخدام الأجهزة</h3>
                    <div class="header-filter">
                        <label for="device-filter">اختيار الجهاز:</label>
                        <select id="device-filter" onchange="filterDevices()">
                            <option value="جميع الأجهزة">جميع الأجهزة</option>
                            <option value="ميكروسكوب بصري">ميكروسكوب بصري</option>
                            <option value="محلل طيفي">محلل طيفي</option>
                            <option value="مولد إشعاع">مولد إشعاع</option>
                        </select>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>اسم الجهاز</th>
                                <th>رقم الجهاز</th>
                                <th>المستخدم</th>
                                <th>تاريخ الاستخدام</th>
                                <th>وقت البدء</th>
                                <th>وقت الانتهاء</th>
                                <th>إجمالي الساعات</th>
                            </tr>
                        </thead>
                        <tbody id="device-table-body">
                            <tr>
                                <td>ميكروسكوب بصري</td>
                                <td>001</td>
                                <td>محمد أحمد</td>
                                <td>2025-04-10</td>
                                <td>09:00</td>
                                <td>11:30</td>
                                <td>2.5</td>
                            </tr>
                            <tr>
                                <td>محلل طيفي</td>
                                <td>015</td>
                                <td>سارة محمد</td>
                                <td>2025-04-09</td>
                                <td>13:00</td>
                                <td>16:00</td>
                                <td>3.0</td>
                            </tr>
                            <tr>
                                <td>مولد إشعاع</td>
                                <td>008</td>
                                <td>أحمد علي</td>
                                <td>2025-04-08</td>
                                <td>10:00</td>
                                <td>12:00</td>
                                <td>2.0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="maintenance-report" class="device-log report" style="display:none;">
                    <h3>تقارير الصيانة</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>اسم الجهاز</th>
                                <th>رقم الجهاز</th>
                                <th>المستخدم</th>
                                <th>تاريخ الصيانة</th>
                                <th>النوع</th>
                                <th>النتيجة</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ميكروسكوب بصري</td>
                                <td>001</td>
                                <td>محمد أحمد</td>
                                <td>2025-04-11</td>
                                <td>صيانة دورية</td>
                                <td>جيد</td>
                            </tr>
                            <tr>
                                <td>محلل طيفي</td>
                                <td>015</td>
                                <td>سارة محمد</td>
                                <td>2025-04-10</td>
                                <td>إصلاح</td>
                                <td>تم الإصلاح</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="inventory-report" class="device-log report" style="display:none;">
                    <h3>تقارير المخزون</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>اسم الجهاز</th>
                                <th>العدد</th>
                                <th>الحالة</th>
                                <th>الموقع</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ميكروسكوب بصري</td>
                                <td>5</td>
                                <td>جيد</td>
                                <td>المختبر 1</td>
                            </tr>
                            <tr>
                                <td>محلل طيفي</td>
                                <td>3</td>
                                <td>صيانة</td>
                                <td>المختبر 2</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="pagination">
                    <button onclick="goToPage('prev')">السابق</button>
                    <span id="current-page">1</span>
                    <button onclick="goToPage('next')">التالي</button>
                </div>
            </div>
        </div>
    </div>

    <!-- مكتبات تصدير PDF و Excel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="js/reports.js"></script>
    <script src="js/logout.js"></script>
</body>

</html>